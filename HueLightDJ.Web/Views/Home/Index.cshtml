@{
  ViewData["Title"] = "Hue Light DJ";
}

<div class="container">
  <div class="row">
    <div class="col-sm">
      <input type="button" id="connectButton" value="Connect" />
      <input type="button" id="disconnectButton" value="Disconnect" />


    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <hr />
    </div>
  </div>
  <div class="row">
    <div class="col-sm">
      <ul id="messagesList"></ul>
    </div>
  </div>
</div>

<hr style="margin-bottom:20px;" />

<div class="container" id="effects" v-show="groups != null" style="display:none;">
  <div class="row">
    <div class="col-sm">
      BPM: <button v-on:click="increaseBPM(-5)">--</button> <button v-on:click="increaseBPM(-1)">-</button> <p id="bpm"></p> <button v-on:click="increaseBPM(1)">+</button> <button v-on:click="increaseBPM(5)">++</button>
      <br />
      <button v-on:click="setBPM(120)">reset bpm</button>
      <button v-on:click="setBPM(20)">slow</button>
      <button v-on:click="setBPM(400)">quick</button>
      <button v-on:click="setBPM(600)">super quick</button>

      <br />
      <button v-on:click="startRandom">random effect</button>
      <button v-on:click="startAutoMode">start auto mode</button>
      <button v-on:click="stopAutoMode">stop auto mode</button>

    </div>

    <div class="col-sm">
      <h3>Long Running</h3>
      <ul id="baseEffects">
        <li v-for="item in baseEffects">
          {{ item.name }}
          <span v-show="item.hasColorPicker">
            <input type="checkbox" v-model="item.isRandom" />
            <input type="color" v-model="item.color" v-show="!item.isRandom" />
          </span>
          <button v-on:click="start(item)">Start</button>
        </li>
      </ul>
    </div>

    <div class="col-sm">
      <h3>Short Effects</h3>
      <ul id="shortEffects">
        <li v-for="item in shortEffects">
          {{ item.name }}
          <span v-show="item.hasColorPicker">
            color (random): <input type="checkbox" v-model="item.isRandom" />
            <input type="color" v-model="item.color" v-show="!item.isRandom" />
          </span>
          <button v-on:click="start(item)">Start</button>
        </li>
      </ul>

    </div>
  </div>

  <div class="row">
    <div class="col-sm" style="margin-bottom:20px;">
      <hr />
      {{ groupPicked }}
    </div>
  </div>

  <div class="row">
    <div class="col-sm">
      <h3>Groups</h3>
      <div id="groups" class="btn-group-vertical btn-group-toggle" data-toggle="buttons">
        <label class="btn btn-secondary" v-for="item in groups" :class="groupPicked == item.name ? 'active': ''">
          <input type="radio" class="radio-button" :value="item.name" name="groupPicked" v-model="groupPicked" v-model.number="groupPicked"> {{ item.name }}
        </label>
      </div>
    </div>
    <div class="col-sm">

      <h3>IteratorModes</h3>
      <div id="iteratorModes" class="btn-group-vertical btn-group-toggle" data-toggle="buttons">
        <label v-for="item in iteratorModes" class="btn btn-secondary" :class="iteratorPicked == item ? 'active': ''">
          <input type="radio" class="radio-button" :value="item" name="iteratorPicked" v-model="iteratorPicked" v-model.number="iteratorPicked"> {{ item }}
        </label>
      </div>
    </div>
    <div class="col-sm">

      <h3>Secondary IteratorModes</h3>
      <div id="secondaryIteratorModes" class="btn-group-vertical btn-group-toggle" data-toggle="buttons">
        <label v-for="item in secondaryIteratorModes" class="btn btn-secondary" :class="secondaryIteratorPicked == item ? 'active': ''">
          <input type="radio" class="radio-button" :value="item" name="secondaryIteratorPicked" v-model="secondaryIteratorPicked" v-model.number="secondaryIteratorPicked">  {{ item }}
        </label>
      </div>
    </div>
    <div class="col-sm">

      <h3>Group Effects</h3>
      <div id="groupEffects" class="btn-group-vertical">
        <label v-for="item in groupEffects">
          <span v-show="item.hasColorPicker">
            color (random): <input type="checkbox" v-model="item.isRandom" />
            <input type="color" v-model="item.color" v-show="!item.isRandom" />
          </span>
          <button class="btn btn-dark" v-on:click="startGroup(item, groupPicked, iteratorPicked, secondaryIteratorPicked)">
            {{ item.name }}
          </button>
        </label>
      </div>
    </div>

  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="~/lib/signalr/signalr.js"></script>
<script src="~/js/effectList.js"></script>
<script src="~/js/status.js"></script>
